<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Using and contributing to Open Source</title>
    <meta name="description" content="Introduction to Open Source">
    <link href="file:///home/ge0ffrey/projects/other/ge0ffrey-presentations/usingAndContributingToOpenSource/" rel="canonical">

    <link rel="stylesheet" href="../website/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../website/reveal/css/reveal.min.css">
    <link rel="stylesheet" href="../website/reveal/css/theme/simple.css" id="theme">
    <script>
        if (window.location.search.match(/print-pdf/gi)) {
            document.write('<link rel="stylesheet" href="../website/reveal/css/print/pdf.css">');
        }
    </script>
    <link rel="stylesheet" href="../website/highlight/highlight.css">
    <link rel="stylesheet" href="../website/ge0ffreyPresentation.css">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<div class="reveal">
<div class="watermark watermark-left">
    <p>
        <img src="common/twitterLogo.png"/>
        @GeoffreyDeSmet
    </p>
</div>
<div class="slides">

    <section>
        <h2>
            Using and<br/>
            contributing to<br/>
            Open Source
        </h2>
        <div style="margin-top: 80px;">
            <p>
                <span style="font-size: smaller">by</span> Geoffrey De Smet<br/>
                <span style="font-size: smaller">OptaPlanner lead</span>
            </p>
        </div>
    </section>

    <section>
        <h3>Who am I?</h3>
        <ul>
            <li>Java developer (graduated in 2003)</li>
            <li>OptaPlanner Founder/Lead
                <ul>
                    <li>Customers and users around the world</li>
                    <li>1k+ downloads per month</li>
                    <li>255k lines of code</li>
                </ul>
            </li>
        </ul>
    </section>


    <section>
        <h3>
            Reusing code<br/>
            is better than<br/>
            writing it
        </h3>
        <p>(99% of the time)</p>
    </section>
    <section>
        <img src="intro/logoAppScreenshot.png">
    </section>
    <section>
        <pre xml:space="preserve"><code class="java">import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JLabel;

public class LogoApp extends JFrame {
    ...

    public LogoApp() {
        super("Logo");
        ImageIcon image = new ImageIcon(
                getClass().getResource("logo.png"));
        getContentPane().add(new JLabel(image));
    }

}</code></pre>
    </section>
    <section>
        <img src="intro/logoAppScreenshotAnnotated.png">
    </section>
    <section>
        <h3>Use other people's code</h3>
        <pre xml:space="preserve"><code class="java">import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JLabel;</code></pre>
        <p class="fragment">⇒ my dependencies</p>
    </section>
    <section>
        <h3>Show an image on the screen</h3>
        <pre xml:space="preserve"><code class="java">import javax.swing.ImageIcon;</code></pre>
        <br/>
        <table>
            <thead>
            <tr>
                <th></th>
                <th>To reuse</th>
                <th>Not to reuse</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Development time</td>
                <td class="positive">1 minute</td>
                <td class="negative">2 years</td>
            </tr>
            <tr>
                <td>Quality</td>
                <td class="positive">
                    High<br/>
                    Written by specialists<br/>
                    Tested by millions</td>
                <td class="negative">Low<br/>
                    Only PNG (no JPG)<br/>
                    Exploits, slow, ...
                </td>
            </tr>
            <tr>
                <td>Maintenance time</td>
                <td class="positive">low (upgrades)</td>
                <td class="negative">high (rewrites)</td>
            </tr>
            <tr>
                <td>Dependencies?</td>
                <td class="negative">Yes</td>
                <td class="positive">No</td>
            </tr>
            </tbody>
        </table>
        <br/>
        <p class="fragment">An extra dependency is the lesser evil.</p>
    </section>
    <section>
        <img src="use/dependencyTreeSimple_0.png" class="fullImage">
        <img src="use/dependencyTreeSimple_1.png" class="fullImage fragment">
        <img src="use/dependencyTreeSimple_2.png" class="fullImage fragment">
        <img src="use/dependencyTreeSimple_3.png" class="fullImage fragment">
        <img src="use/dependencyTreeSimple_4.png" class="fullImage fragment">
        <img src="use/dependencyTreeSimple_5.png" class="fullImage fragment">
    </section>
    <section>
        <img src="use/openSourceCommunismJoke.jpg">
    </section>
    <section>
        <h3>
           No longer the 90's
        </h3>
        <ul>
            <li>Java is Open Source
                <ul>
                    <li>http://openjdk.java.net/</li>
                </ul>
            </li>
            <li class="fragment">C++: GNU's GCC is Open Source
                <ul>
                    <li>https://gcc.gnu.org/</li>
                </ul>
            </li>
            <li class="fragment">.NET Core is Open Source
                <ul>
                    <li>https://github.com/Microsoft/dotnet</li>
                </ul>
            </li>
        </ul>
        <br/>
        <p class="fragment">You're already using Open Source.</p>
    </section>
    <section>
        <h3>
            Typical web application has<br/>
            100+ dependencies
        </h3>
        <p>and millions of imports</p>
    </section>
    <section>
        <img src="use/dependencyTree_0.png" class="fullImage">
        <img src="use/dependencyTree_1.png" class="fullImage fragment">
    </section>
    <section>
        <h3>
            Every dependency<br/>
            can harm you.
        </h3>
    </section>
    <section>
        <img src="use/dependencyTree_1.png" class="fullImage">
        <img src="use/dependencyTree_2.png" class="fullImage fragment">
        <img src="use/dependencyTree_3.png" class="fullImage fragment">
        <img src="use/dependencyTree_4.png" class="fullImage fragment">
    </section>

    <section>
        <h3>Depend only<br/> on <b>mature</b> projects</h3>
    </section>
    <section>
        <h3>What makes<br/> (Open Source) projects<br/> mature?</h3>
    </section>

    <section>
        <p>What makes (Open Source) projects mature?</p>
        <h3>1. License</h3>
        <br/>
        <p style="font-size: small">IANAL</p>
    </section>

    <section>
        <img src="license/licenseTxtFile.png" class="fullImage">
    </section>
    <section>
        <img src="license/licenseOnHomepage.png" class="fullImage">
    </section>
    <section>
        <h3>What is Open Source?</h3>
        <ul>
            <li>Source code included</li>
            <li>Free redistribution</li>
            <li>Right to modify</li>
            <li>No fields of use restrictions</li>
            <li>... (see opensource.org)</li>
        </ul>
        <br/>
        <p>⇒ Formalized by a License</p>
    </section>
    <section>
        <img src="license/licenceGoodNotEvil.png" class="fullImage">
    </section>
    <section>
        <figure>
            <img src="license/aliceCooper.png">
        </figure>
        <p>Don't sell Alice Cooper merchandise!</p>
    </section>
    <section>
        <img src="license/licenceGoodNotEvilNotOpenSource.png" class="fullImage">
    </section>
    <section>
        <h3>Normal Open Source licenses</h3>
        <ul>
            <li>MIT</li>
            <li>BSD</li>
            <li>ASL: Apache License</li>
            <li>MPL: Mozilla Public License</li>
            <li>EPL: Eclipse Public License</li>
            <li>LGPL: Lesser General Public License</li>
            <li>GPL: General Public License</li>
            <li>AGPL</li>
        </ul>
        <br/>
        <p><b>Avoid other Open Source licenses.</b></p>
    </section>
    <section>
        <img src="use/dependencyTreeLicense_0.png" class="fullImage">
        <img src="use/dependencyTreeLicense_1.png" class="fullImage fragment">
        <img src="use/dependencyTreeLicense_2.png" class="fullImage fragment">
    </section>
    <section>
        <h3>Make 2 lists of licenses</h3>
        <ul>
            <li>Whitelist: approved by legal</li>
            <li>Blacklist: rejected by legal</li>
            <li>Other: ask legal before importing</li>
        </ul>
    </section>
    <section>
        <img src="license/commercialFriendliness_0.png" class="fullImage">
        <img src="license/commercialFriendliness_1.png" class="fullImage fragment">
        <img src="license/commercialFriendliness_2.png" class="fullImage fragment">
        <img src="license/commercialFriendliness_3.png" class="fullImage fragment">
        <img src="license/commercialFriendliness_4.png" class="fullImage fragment">
        <img src="license/commercialFriendliness_5.png" class="fullImage fragment">
        <img src="license/commercialFriendliness_6.png" class="fullImage fragment">
    </section>
    <section>
        <h3>FAQ</h3>
        <ul>
            <li>Isn't OpenJDK (Java) GPL?
                <ul>
                    <li><b>GPL with classpath exception</b></li>
                    <li>Does not affect normal Java code</li>
                </ul>
            </li>
            <li class="fragment">Isn't GCC (the C++ compiler) GPL?
                <ul>
                    <li>Does not affect your compiled code</li>
                </ul>
            </li>
        </ul>
    </section>

    <section>
        <h3>IANAL</h3>
        <p class="fragment">I am not a lawyer</p>
        <br/>
        <p class="fragment">
            All licenses (open source or proprietary)<br/>
            include legal uncertainty<br/>
            until tried in court.
        </p>
        <p class="fragment">Red Hat includes indemnification for its customers.</p>
    </section>
    <!--<section>-->
        <!--<p>Richard Fontana (Open Source lawyer)<br/> on forum:</p>-->
        <!--<h3>IAAL IAMYL TINLA</h3>-->
        <!--<p class="fragment">-->
            <!--I am a lawyer.<br/>-->
            <!--I am not <i>your</i> lawyer.<br/>-->
            <!--This is not legal advice.-->
        <!--</p>-->
        <!--<br/>-->
        <!--<p class="fragment">-->
            <!--Legal uncertainty applies to proprietary software too.<br/>-->
            <!--Red Hat includes indemnification to its customers.-->
        <!--</p>-->
    <!--</section>-->

    <section>
        <p>What makes (Open Source) projects mature?</p>
        <h3>2. Distribution and download</h3>
    </section>

    <section>
        <h3>Recent stable release</h3>
        <img src="distribution/latestReleases.png">
        <ul>
            <li class="fragment">There is a stable release
                <ul>
                    <li>Stable releases: Final, GA</li>
                    <li>Unstable releases: <span class="positive">Alpha</span>, <span class="positive">Beta</span>, <span class="positive">CR</span>, <span class="negative">RC</span>, <span class="negative">Milestone</span></li>
                </ul>
            </li>
            <li class="fragment">Released in the last year
                <ul>
                    <li>8% out of 500 000 tracked open source projects<br/>(according to openhub.net in 2012)</li>
                </ul>
            </li>
        </ul>
    </section>

    <section>
        <h3>Available on central repository</h3>
        <ul>
            <li>Java: in <b>Maven Central</b> repository
                <ul>
                    <li>Bad name: Gradle, Ivy and Buildr use it too</li>
                </ul>
            </li>
            <li>.NET: in NuGet Gallery</li>
            <li>Ruby: in rubygems.org</li>
        </ul>
        <br/>
        <p class="fragment">Similar to Android's Play store, IPhone's App store,<br/> Fedora's rpm repository, Ubuntu's deb repository, ..</p>
    </section>
    <section>
        <h3>search.maven.org / mvnrepository.com</h3>
        <img src="distribution/mvnrepository.png">
    </section>


    <section>
        <p>What makes (Open Source) projects mature?</p>
        <h3>3. Source control</h3>
    </section>
    <section>
        <h3>Source Control</h3>
        <ul>
            <li>Stored in
                <ul>
                    <li class="positive">Git</li>
                    <li class="positive">Mercurial</li>
                    <li class="negative">Subversion
                        <ul>
                            <li class="negative">Fork unfriendly ⇒ collaboration unfriendly</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>Hosted on
                <ul>
                    <li class="positive"><b>GitHub.com</b></li>
                    <li class="positive">Bitbucket.org</li>
                    <li class="positive">GitLab.com</li>
                </ul>
            </li>
        </ul>
    </section>
    <section>
        <h3>GitHub commit history</h3>
        <img src="sourceControl/commitHistory.png">
    </section>
    <section>
        <h3>Easy to build from source</h3>
        <pre xml:space="preserve"><code class="sh">$ git clone https://github.com/droolsjbpm/optaplanner.git
...
$ cd optaplanner
$ mvn clean install -DskipTests
...</code></pre>
    </section>
    <section>
        <h3>Fork it!</h3>
        <img src="sourceControl/forkMeOnGithub.png">
        <br/>
        <p>My fork = my personal sandbox</p>
    </section>
    <section>
        <h3>Easy to fork</h3>
        <p>Blessed (official releases):</p>
        <img src="sourceControl/githubBlessed.png">
        <br/>
        <div class="fragment">
            <p>My fork:</p>
            <img src="sourceControl/githubMyFork.png">
            <p class="fragment">My changes do <i>not</i> affect <i>blessed</i>.</p>
            <p class="fragment">Easy to pull new commits from <i>blessed</i>.</p>
        </div>
    </section>
    <section>
        <h3>Why share your modifications?</h3>
        <ul>
            <li>Reduce maintenance
                <ul>
                    <li>Your modifications are in all future releases</li>
                    <li>No merging with upstream changes</li>
                    <li>No need to do releases</li>
                </ul>
            </li>
            <li class="fragment">Get feedback from project committers</li>
            <li class="fragment">Gain respect (= power in a meritocracy)</li>
        </ul>
    </section>
    <section>
        <h3>How do you share your modifications?</h3>
        <ul>
            <li class="negative">Patch file
                <ul>
                    <li>Goes stale</li>
                    <li>No review support</li>
                </ul>
            </li>
            <li class="positive"><b>Pull Request</b>
                <ul>
                    <li>Send Pull Request</li>
                    <li>Committers review it</li>
                    <li>Fix review comments</li>
                    <li>Committers merge it in <i>blessed</i></li>
                </ul>
            </li>
        </ul>
    </section>
    <section>
        <h3>List of Pull Requests</h3>
        <img src="sourceControl/pullRequestList.png" style="width: 100%; height: auto;">
    </section>
    <section>
        <img src="sourceControl/pullRequest.png" class="fullImage">
    </section>
    <section>
        <h3>Review</h3>
        <img src="sourceControl/pullRequestReview.png" style="width: 100%; height: auto;">
    </section>
    <section>
        <h3>Merge a Pull Request</h3>
        <img src="sourceControl/squashAndMerge.png" style="width: 100%; height: auto;">
    </section>
    <section>
        <h3>Fork merged to blessed</h3>
        <img src="sourceControl/gitkForkMerge.png" style="width: 100%; height: auto;">
    </section>

    <section>
        <p>What makes (Open Source) projects mature?</p>
        <h3>4. Business model</h3>
    </section>
    <section>
        <p>Governance</p>
        <h3>Who controls an Open Source project?</h3>
    </section>
    <section>
        <img src="businessModel/meritocracy_0.png" class="fullImage">
        <img src="businessModel/meritocracy_1.png" class="fullImage fragment">
        <img src="businessModel/meritocracy_2.png" class="fullImage fragment">
        <img src="businessModel/meritocracy_3.png" class="fullImage fragment">
    </section>
    <section>
        <h3>Communication</h3>
        <ul>
            <li>Issue tracker</li>
            <li>Mailing list
                <ul>
                    <li>Use gmane.org (NNTP or web) to avoid flood</li>
                </ul>
            </li>
            <li><b>IRC</b> (90's chat, like Slack)
                <ul>
                    <li>Most Open Source projects are on Freenode</li>
                    <li>Bot mentions new commits/issues ⇒ sparks discussions</li>
                    <li>Video conferencing for complex discussions</li>
                </ul>
            </li>
        </ul>
    </section>
    <section>
        <img src="businessModel/longTailOfContributors.png" class="fullImage">
    </section>
    <section>
        <h3>Healthy Open Source project</h3>
        <ul>
            <li><b>Some of the committers needs to be payed<br/>to work on it full time.</b></li>
            <li>Possible to buy support</li>
        </ul>
    </section>
    <section>
        <h3>Governance models</h3>
        <ul>
            <li>Multi-company model
                <ul>
                    <li>Apache Foundation</li>
                    <li>Eclipse Community</li>
                </ul>
            </li>
            <li>One-company model
                <ul>
                    <li>Red Hat</li>
                    <li>Pivotal</li>
                    <li>Oracle</li>
                    <li>Docker Inc.</li>
                    <li>...</li>
                </ul>
            </li>
        </ul>
    </section>
    <section>
        <h3>Apache Foundation / Eclipse Community</h3>
        <ul>
            <li class="positive">Neutral ground</li>
            <li class="positive">Infrastructure sponsored</li>
            <li class="positive">No dictator</li>
            <li>Voting system:
                <ul>
                    <li>+1: Do the change</li>
                    <li>+0: I don't care</li>
                    <li>-1: I veto the change (requires motivation)</li>
                </ul>
            </li>
            <li class="negative">Politics can kill successful projects
                <ul>
                    <li>Log4J 1.x died when main committer got veto'ed</li>
                    <li>Maven 3 flatlined after dispute<br/> with main contributing company (now mostly fixed)</li>
                </ul>
            </li>
        </ul>
    </section>
    <section>
        <h3>One company model</h3>
        <ul>
            <li class="positive">Clear, sustainable business model
                <ul>
                    <li>Paid full-time committers</li>
                </ul>
            </li>
            <li class="positive">Fear of fork reduces power abuse
            <ul>
                <li>OpenOffice got forked as LibreOffice</li>
                <li>Hudson got forked as Jenkins</li>
            </ul>
            </li>
            <li>Often benevolent dictator (project lead)
                <ul>
                    <li>Listens to company and community</li>
                </ul>
            </li>
            <li class="negative">Potential conflict of interest
                <ul>
                    <li>Depends on the business model</li>
                    <li>Balancing act for project lead</li>
                </ul>
            </li>
        </ul>
    </section>
    <section>
        <h3>Open Source business models</h3>
        <ul>
            <li>Dual-licensing (GPL/proprietary)
                <ul>
                    <li>MySQL</li>
                </ul>
            </li>
            <li>Sell proprietary enterprise features
                <ul>
                    <li>IntelliJ</li>
                </ul>
            </li>
            <li>Sell support/consultancy
                <ul>
                    <li>All Red Hat projects</li>
                    <li>IBM projects</li>
                    <li>Most Apache projects</li>
                </ul>
            </li>
            <li>Get contributions on not core business software
                <ul>
                    <li>Google projects</li>
                    <li>Facebook projects</li>
                </ul>
            </li>
        </ul>
    </section>
    <section>
        <p>What makes (Open Source) projects mature?</p>
        <h3>5. Everything that makes proprietary projects mature</h3>
    </section>
    <section>
        <h3>Typical quality indicators</h3>
        <ul class="fragment">
            <li>Unit tests</li>
            <li>Test coverage</li>
            <li>Continuous integration</li>
            <li>Documentation</li>
        </ul>
    </section>
    <section>
        <h3>Is Open Source better than proprietary?</h3>
        <br/>
        <h3 class="fragment"><b>Depends on the project!</b></h3>
    </section>
    <section>
        <h2>Summary</h2>
    </section>
    <section>
        <h3>Summary</h3>
        <ul>
            <li>Reuse is better than writing it yourself</li>
            <li>Have only mature projects in your dependency tree</li>
            <li>Look for maturity indicators
                <ul>
                    <li>Open Source projects can't hide them</li>
                </ul>
            </li>
        </ul>
    </section>

    <section>
        <h3>Q &amp; A</h3>
        <table class="links">
            <tr>
                <th>Slides</th>
                <td><a href="https://ge0ffrey.github.io/ge0ffrey-presentations/">ge0ffrey.github.io/ge0ffrey-presentations/</a></td>
            </tr>
            <tr>
                <th>OptaPlanner</th>
                <td><a href="http://www.optaplanner.org">www.optaplanner.org</a></td>
            </tr>
            <tr>
                <th>Red Hat</th>
                <td><a href="http://www.redhat.com">www.redhat.com</a></td>
            </tr>
            <tr>
                <th>Feedback</th>
                <td><img src="common/twitterLogo64x64.png"/><a href="https://twitter.com/GeoffreyDeSmet">@GeoffreyDeSmet</a></td>
            </tr>
        </table>
    </section>

    <!--
    <section>
        <h2>"Hello World"<br/>in 1999</h2>
    </section>

    <section>
        <img src="intro/helloWorldScreenshot.png" class="fullImage">
    </section>
    <section>
        <h3>HelloWorld.java</h3>
        <pre xml:space="preserve"><code class="java">import java.lang.System;
import java.lang.String;

public class HelloWorld {

    public static void main(String[] args) {
        System.out.println("Hello world!");
    }

}</code></pre>
    </section>-->

</div></div>

    <script src="../website/reveal/js/reveal.min.js"></script>

    <script>
        if (window.location.search.match(/print-pdf/gi)) {
            var slides = document.querySelector('.reveal .slides');
            var excludeFromPrintPdfSlide = slides.querySelector('section.excludeFromPrintPdf');
            slides.removeChild(excludeFromPrintPdfSlide);
        }
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: false,
            theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            transition: Reveal.getQueryHash().transition || 'linear', // page/linear/fade/none

            margin: 0.05,
            minScale: 0.2,
            maxScale: 100.0
        });
    </script>
    <script src="../website/highlight/highlight.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
