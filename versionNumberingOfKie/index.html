<!doctype html>
<!--
  ~ Copyright 2018 Red Hat, Inc. and/or its affiliates.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Version numbering of KIE</title>
    <meta name="description" content="Introduction to Open Source">
    <link href="https://ge0ffrey.github.io/ge0ffrey-presentations/contributingToKieWebsites/" rel="canonical">

    <link rel="stylesheet" href="../website/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../website/reveal/css/reveal.min.css">
    <link rel="stylesheet" href="../website/reveal/css/theme/simple.css" id="theme">
    <script>
        if (window.location.search.match(/print-pdf/gi)) {
            document.write('<link rel="stylesheet" href="../website/reveal/css/print/pdf.css">');
        }
    </script>
    <link rel="stylesheet" href="../website/highlight/highlight.css">
    <link rel="stylesheet" href="../website/ge0ffreyPresentation.css">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
<div class="reveal">
<div class="watermark watermark-left">
    <p>
        <img src="../common/twitterLogo.png"/>
        @GeoffreyDeSmet
    </p>
</div>
<div class="slides">

    <section>
        <h2>
            Version numbering of KIE
        </h2>
        <div style="margin-top: 80px;">
            <p>
                <span style="font-size: smaller">by</span> Geoffrey De Smet<br/>
                <span style="font-size: smaller">OptaPlanner lead</span>
            </p>
        </div>
    </section>

    <section>
        <h2>Why do we have<br/> version numbers?</h2>
    </section>

    <section>
        <h3>Why do we have version numbers?</h3>
        <p>For when our users/customers...</p>
        <div class="fragment">
            <p>... see this</p>
            <pre xml:space="preserve"><code class="java">java.lang.NullPointerException
  at org.optaplanner.core.api.score.buildin.simplebigdecimal.SimpleBigDecimalScoreHolder.addConstraintMatch(SimpleBigDecimalScoreHolder.java:50)
  at org.optaplanner.core.api.score.buildin.simplebigdecimal.SimpleBigDecimalScoreHolderTest.addConstraintMatch(SimpleBigDecimalScoreHolderTest.java:26)
  at org.optaplanner.core.api.score.buildin.simplebigdecimal.SimpleBigDecimalScoreHolderTest.addConstraintMatchWithoutConstraintMatch(SimpleBigDecimalScoreHolderTest.java:20)
</code></pre>
        </div>
    </section>

    <section>
        <h3>Is it fixed in a newer version?</h3>
        <pre xml:space="preserve"><code class="java">java.lang.NullPointerException
  at org.optaplanner.core.api.score.buildin.simplebigdecimal.SimpleBigDecimalScoreHolder.addConstraintMatch(SimpleBigDecimalScoreHolder.java:50)
  at org.optaplanner.core.api.score.buildin.simplebigdecimal.SimpleBigDecimalScoreHolderTest.addConstraintMatch(SimpleBigDecimalScoreHolderTest.java:26)
  at org.optaplanner.core.api.score.buildin.simplebigdecimal.SimpleBigDecimalScoreHolderTest.addConstraintMatchWithoutConstraintMatch(SimpleBigDecimalScoreHolderTest.java:20)
</code></pre>
        <ul>
            <li>YES => do upgrade</li>
            <li>NO => persuade us to fix it</li>
        </ul>
    </section>
    <section>
        <img src="issueTracker/resolvedIssue.png" class="fullImage"/>
    </section>
    <section>
        <h3>Is it fixed in a newer version?</h3>
        <p>Customer looks at his version in use.</p>
        <ul>
            <li>Lower version than 6.1.0.Final => upgrade</li>
            <li>Higher version than 6.1.0.Final => different bug</li>
        </ul>
    </section>
    <section>
        <h2>Keep it simple</h2>
        <p>the story of a customer</p>
    </section>
    <section>
        <p>Customer runs into this issue</p>
        <img src="issueTracker/customerIssueExample.png"/>
        <p>Issue is fixed since 7.6.0.Final.</p>
    </section>
    <section>
        <p>Issue is fixed since 7.6.0.Final.</p>
        <img src="issueTracker/customerUsesPam.png"/>
        <ul>
            <li>Customer still uses 7.0.0 => not fixed, upgrade needed</li>
            <li class="fragment">Customer asks for upgrade to PAM 7.7.0</li>
            <li class="fragment">Customer gets told: <b>7.0.0. already contains fix for 7.6.0.Final</b></li>
        </ul>
    </section>
    <section>
        <p>Not just bugs. Features too.</p>
        <h2>Keep it simple</h2>
        <p>the story of a potential customer</p>
    </section>
    <section>
        <ul>
            <li>Potential customer uses Drools "community" 7.4.0.Final</li>
            <li class="fragment">Potential customer uses feature new since Drools 7.4.0.Final</li>
            <li class="fragment">Potential customer wants to buy Drools "enterprise"</li>
            <li class="fragment">Sales: "Do you want to buy RH Decision Manager 7.0.0?"</li>
            <li class="fragment">Potential customer: "No, I need at least 7.4.0."</li>
            <li class="fragment">Sales: "Let me explain our version numbering." (*)</li>
            <li class="fragment">(15 minutes later)</li>
            <li class="fragment">Potential customer: "I am looking for a simple solution."</li>
        </ul>
        <br/>
        <p class="fragment">(*) Unlikely to actually happen:<br/>
            Most of Red Hat don't know our version mapping.<br/>
            They don't know that<br/> DM 7.0.0 contains features of drools 7.4.0.Final.</p>
    </section>
    <section>
        <h2>Solutions?</h2>
    </section>
    <section>
        <h3>Unified version numbering.</h3>
        <p>We sell hot fixes. We do this in practice already.</p>
        <ul>
            <li>7.7.0.Final => community</li>
            <li>7.7.1.Final => product</li>
            <li>7.7.2.Final => product</li>
            <li>7.8.0.Final => community (not productized)</li>
            <li>7.9.0.Final => community</li>
            <li>7.9.1.Final => product</li>
            <li>7.9.2.Final => product</li>
        </ul>
        <p>Keep it simple.</p>
    </section>
    <section>
        <h2>"Improvements" of version 7</h2>
    </section>
    <section>
        <img src="issueTracker/addOnVersioning.png" class="fullImage"/>
    </section>
    <section>
        <img src="issueTracker/dmVsPamVersioning.png" class="fullImage"/>
    </section>
    <section>
        <h3>Q &amp; A</h3>
        <table class="links">
            <tr>
                <th>Slides</th>
                <td><a href="https://ge0ffrey.github.io/ge0ffrey-presentations/">ge0ffrey.github.io/ge0ffrey-presentations/</a></td>
            </tr>
            <tr>
                <th>OptaPlanner</th>
                <td><a href="http://www.optaplanner.org">www.optaplanner.org</a></td>
            </tr>
            <tr>
                <th>Red Hat</th>
                <td><a href="http://www.redhat.com">www.redhat.com</a></td>
            </tr>
            <tr>
                <th>Feedback</th>
                <td><img src="../common/twitterLogo64x64.png"/><a href="https://twitter.com/GeoffreyDeSmet">@GeoffreyDeSmet</a></td>
            </tr>
        </table>
    </section>

</div></div>

    <script src="../website/reveal/js/reveal.min.js"></script>

    <script>
        if (window.location.search.match(/print-pdf/gi)) {
            var slides = document.querySelector('.reveal .slides');
            var excludeFromPrintPdfSlide = slides.querySelector('section.excludeFromPrintPdf');
            slides.removeChild(excludeFromPrintPdfSlide);
        }
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: false,
            theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            transition: Reveal.getQueryHash().transition || 'linear', // page/linear/fade/none

            margin: 0.05,
            minScale: 0.2,
            maxScale: 100.0
        });
    </script>
    <script src="../website/highlight/highlight.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
